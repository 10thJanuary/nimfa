# vim ft=yaml
# travis-ci.org definition for Nimfa tests
language: python

sudo: false

cache:
 apt: true

addons:
  apt:
    packages:
      - libatlas3gf-base
      - libatlas-dev
      - python-scipy

python:
  - "2.7"
  - "3.4"
  - "3.5"

install:
  - travis_retry pip install -q coveralls
  - pip install -r requirements-tests.txt
  - pip install -e .

script:
  - py.test nimfa
  - python setup.py install  # test installation

after_success:
  - coveralls

# TODO Later if you decide to upload tagged releases to pypi automagically
# see https://docs.travis-ci.com/user/deployment/pypi/ for details
#deploy:
#  provider: pypi
#  distributions: sdist
#  user: YOURUSERNAME
#  password:
#    secure: YOUR_ENCRYPTED_WITH_TRAVISTOOLS_PASSWORD_FOR_PYPI
#  on:
#    tags: true
#    branch: master
#    repo: YOURGITHUBLOGIN/nimfa
#    condition: "$TRAVIS_PYTHON_VERSION == 2.7 && $TRAVIS_TAG =~ ^v[0-9]*[.][.0-9]*"
